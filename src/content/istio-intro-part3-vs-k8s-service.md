---
title: "Kubernetes Service vs Istio: ë­ê°€ ë‹¤ë¥¸ê°€?"
excerpt: "kube-proxyì˜ í•œê³„, L4 vs L7 ë¡œë“œë°¸ëŸ°ì‹± ì°¨ì´, ê·¸ë¦¬ê³  ë‘˜ ë‹¤ í•„ìš”í•œê°€ì— ëŒ€í•œ ë‹µ"
category: "kubernetes"
tags:
  - istio
  - kubernetes
  - kube-proxy
  - load-balancing
  - service-mesh
series:
  name: "istio-intro"
  order: 3
date: "2025-12-08"
---

## ğŸ¯ ì´ì „ ê¸€ ìš”ì•½

**Part 1**: Service Meshê°€ í•„ìš”í•œ ì´ìœ  (ë¼ì´ë¸ŒëŸ¬ë¦¬ vs ì¸í”„ë¼ ë°©ì‹)

**Part 2**: Istio ì•„í‚¤í…ì²˜ (Control Plane, Data Plane, mTLS ìë™í™”)

Part 3ì—ì„œëŠ” **Kubernetes Serviceì™€ Istioê°€ ì–´ë–»ê²Œ ë‹¤ë¥¸ì§€** ì •ë¦¬í•´ë³´ê² ìŠµë‹ˆë‹¤.

---

## ğŸ’¡ í•™ìŠµ ë™ê¸°

Istioë¥¼ ê³µë¶€í•˜ë©´ì„œ ê°€ì¥ í—·ê°ˆë ¸ë˜ ë¶€ë¶„ì…ë‹ˆë‹¤.

**ê¶ê¸ˆí–ˆë˜ ê²ƒ:**
- Kubernetesì—ë„ Serviceê°€ ìˆëŠ”ë°, Istioê°€ ì™œ í•„ìš”í•´?
- kube-proxyë‘ Envoyê°€ ë­ê°€ ë‹¤ë¥¸ë°?
- ë‘˜ ë‹¤ ë¡œë“œë°¸ëŸ°ì‹± í•˜ëŠ” ê±° ì•„ë‹ˆì•¼?

ê²°ë¡ ë¶€í„° ë§í•˜ë©´, **ë‘˜ì€ ë™ì‘í•˜ëŠ” ë ˆì´ì–´ê°€ ë‹¤ë¦…ë‹ˆë‹¤.**

---

## ğŸ“¦ Kubernetes Service ë³µìŠµ

ë¨¼ì € Kubernetes Serviceê°€ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ ë³µìŠµí•´ë³´ê² ìŠµë‹ˆë‹¤.

### ClusterIP ë™ì‘ ì›ë¦¬

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Kubernetes Service (ClusterIP)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚   Pod A                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚   â”‚  curl my-service:8080     â”‚                                     â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚                 â”‚                                                   â”‚
â”‚                 â–¼                                                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚   â”‚       kube-proxy          â”‚  â† ê° ë…¸ë“œì— ì¡´ì¬                   â”‚
â”‚   â”‚    (iptables/IPVS)        â”‚                                     â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚                 â”‚                                                   â”‚
â”‚                 â”‚  ClusterIP â†’ Pod IP ë³€í™˜                          â”‚
â”‚                 â”‚  (ëœë¤ ë˜ëŠ” ë¼ìš´ë“œë¡œë¹ˆ)                            â”‚
â”‚                 â–¼                                                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚   â”‚  Pod B-1  â”‚ â”‚  Pod B-2  â”‚ â”‚  Pod B-3  â”‚                         â”‚
â”‚   â”‚ 10.0.1.1  â”‚ â”‚ 10.0.1.2  â”‚ â”‚ 10.0.1.3  â”‚                         â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### kube-proxyê°€ í•˜ëŠ” ì¼

```yaml
# Service ì •ì˜
apiVersion: v1
kind: Service
metadata:
  name: my-service
spec:
  selector:
    app: my-app
  ports:
  - port: 8080
    targetPort: 8080
```

kube-proxyê°€ ì´ê±¸ ë³´ê³  iptables ê·œì¹™ì„ ìƒì„±í•©ë‹ˆë‹¤:

```bash
# ì‹¤ì œ iptables ê·œì¹™ (ê°„ëµí™”)
-A KUBE-SERVICES -d 10.96.0.100/32 -p tcp --dport 8080 \
    -j KUBE-SVC-XXXXX

-A KUBE-SVC-XXXXX -m statistic --mode random --probability 0.333 \
    -j KUBE-SEP-POD1
-A KUBE-SVC-XXXXX -m statistic --mode random --probability 0.500 \
    -j KUBE-SEP-POD2
-A KUBE-SVC-XXXXX \
    -j KUBE-SEP-POD3
```

**í•µì‹¬**: kube-proxyëŠ” **L4 (IP + Port)** ë ˆë²¨ì—ì„œ ë™ì‘í•©ë‹ˆë‹¤.

---

## ğŸ¤” kube-proxyì˜ í•œê³„

### 1. L4ë§Œ ë³¼ ìˆ˜ ìˆìŒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     L4 vs L7 ë¹„êµ                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚   L4 (Transport Layer)                                              â”‚
â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                              â”‚
â”‚   ë³¼ ìˆ˜ ìˆëŠ” ê²ƒ:                                                    â”‚
â”‚   â€¢ Source IP: 10.0.0.5                                             â”‚
â”‚   â€¢ Dest IP: 10.96.0.100                                            â”‚
â”‚   â€¢ Source Port: 54321                                              â”‚
â”‚   â€¢ Dest Port: 8080                                                 â”‚
â”‚   â€¢ Protocol: TCP                                                   â”‚
â”‚                                                                     â”‚
â”‚   ë³¼ ìˆ˜ ì—†ëŠ” ê²ƒ:                                                    â”‚
â”‚   â€¢ HTTP Method (GET, POST)                                         â”‚
â”‚   â€¢ URL Path (/api/users)                                           â”‚
â”‚   â€¢ Headers (Authorization, Content-Type)                           â”‚
â”‚   â€¢ Body ë‚´ìš©                                                       â”‚
â”‚                                                                     â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚                                                                     â”‚
â”‚   L7 (Application Layer)                                            â”‚
â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                            â”‚
â”‚   ë³¼ ìˆ˜ ìˆëŠ” ê²ƒ:                                                    â”‚
â”‚   â€¢ ìœ„ì˜ L4 ì •ë³´ ì „ë¶€                                               â”‚
â”‚   â€¢ HTTP Method: GET                                                â”‚
â”‚   â€¢ URL: /api/users/123                                             â”‚
â”‚   â€¢ Headers: Authorization: Bearer xxx                              â”‚
â”‚   â€¢ Body: {"name": "john"}                                          â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. L4ë§Œìœ¼ë¡œëŠ” ëª»í•˜ëŠ” ê²ƒë“¤

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  L4ë§Œìœ¼ë¡œ ëª»í•˜ëŠ” ê²ƒë“¤                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚   âŒ URL ê¸°ë°˜ ë¼ìš°íŒ…                                                â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                               â”‚
â”‚   /api/v1/* â†’ Service A                                             â”‚
â”‚   /api/v2/* â†’ Service B                                             â”‚
â”‚   â†’ kube-proxyëŠ” URLì„ ë³¼ ìˆ˜ ì—†ìŒ!                                  â”‚
â”‚                                                                     â”‚
â”‚   âŒ í—¤ë” ê¸°ë°˜ ë¼ìš°íŒ…                                               â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                               â”‚
â”‚   X-Version: canary â†’ Canary Service                                â”‚
â”‚   X-Version: stable â†’ Stable Service                                â”‚
â”‚   â†’ í—¤ë” ë‚´ìš©ì„ ë³¼ ìˆ˜ ì—†ìŒ!                                         â”‚
â”‚                                                                     â”‚
â”‚   âŒ íŠ¸ë˜í”½ ë¹„ìœ¨ ë¶„ë°° (Canary)                                      â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                     â”‚
â”‚   90% â†’ v1                                                          â”‚
â”‚   10% â†’ v2                                                          â”‚
â”‚   â†’ ê°€ëŠ¥í•˜ì§€ë§Œ ë§¤ìš° ì œí•œì  (iptables probability)                   â”‚
â”‚                                                                     â”‚
â”‚   âŒ ì¬ì‹œë„/íƒ€ì„ì•„ì›ƒ ì„¸ë°€í•œ ì œì–´                                    â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                    â”‚
â”‚   503ì¼ ë•Œë§Œ ì¬ì‹œë„                                                 â”‚
â”‚   GETë§Œ ì¬ì‹œë„ (POSTëŠ” ë©±ë“±ì„± ë¬¸ì œ)                                 â”‚
â”‚   â†’ HTTP ìƒíƒœì½”ë“œ, ë©”ì„œë“œë¥¼ ë³¼ ìˆ˜ ì—†ìŒ!                             â”‚
â”‚                                                                     â”‚
â”‚   âŒ JWT ê²€ì¦, ì¸ì¦/ì¸ê°€                                            â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                             â”‚
â”‚   Authorization í—¤ë” íŒŒì‹±                                           â”‚
â”‚   â†’ í—¤ë”ë¥¼ ë³¼ ìˆ˜ ì—†ìŒ!                                              â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ Istioê°€ í•˜ëŠ” ì¼

Istio(Envoy)ëŠ” **L7 ë ˆë²¨**ì—ì„œ ë™ì‘í•©ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Istio (Envoy) ë™ì‘ ë ˆë²¨                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚   Pod A                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  curl my-service:8080/api/users -H "X-Version: canary"      â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                               â”‚                                     â”‚
â”‚                               â–¼                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                      Envoy Sidecar                          â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚   â”‚  â”‚  HTTP ìš”ì²­ íŒŒì‹±:                                    â”‚    â”‚   â”‚
â”‚   â”‚  â”‚  â€¢ Method: GET                                      â”‚    â”‚   â”‚
â”‚   â”‚  â”‚  â€¢ Path: /api/users                                 â”‚    â”‚   â”‚
â”‚   â”‚  â”‚  â€¢ Header: X-Version: canary                        â”‚    â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚   â”‚                                                             â”‚   â”‚
â”‚   â”‚  VirtualService ê·œì¹™ ì ìš©:                                  â”‚   â”‚
â”‚   â”‚  â†’ X-Version: canaryë©´ v2ë¡œ ë¼ìš°íŒ…                          â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                               â”‚                                     â”‚
â”‚                               â–¼                                     â”‚
â”‚                          Pod B (v2)                                 â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Istioë¡œ í•  ìˆ˜ ìˆëŠ” ê²ƒë“¤

```yaml
# URL ê¸°ë°˜ ë¼ìš°íŒ…
apiVersion: networking.istio.io/v1beta1
kind: VirtualService
metadata:
  name: my-service
spec:
  hosts:
  - my-service
  http:
  - match:
    - uri:
        prefix: /api/v1
    route:
    - destination:
        host: my-service-v1
  - match:
    - uri:
        prefix: /api/v2
    route:
    - destination:
        host: my-service-v2
```

```yaml
# í—¤ë” ê¸°ë°˜ ë¼ìš°íŒ… (Canary)
apiVersion: networking.istio.io/v1beta1
kind: VirtualService
metadata:
  name: my-service
spec:
  hosts:
  - my-service
  http:
  - match:
    - headers:
        x-version:
          exact: canary
    route:
    - destination:
        host: my-service
        subset: v2
  - route:
    - destination:
        host: my-service
        subset: v1
```

```yaml
# íŠ¸ë˜í”½ ë¹„ìœ¨ ë¶„ë°°
- route:
  - destination:
      host: my-service
      subset: v1
    weight: 90
  - destination:
      host: my-service
      subset: v2
    weight: 10
```

---

## âš–ï¸ kube-proxy vs Istio ë¹„êµ

| í•­ëª© | kube-proxy | Istio (Envoy) |
|------|------------|---------------|
| **ë™ì‘ ë ˆì´ì–´** | L4 (IP + Port) | L7 (HTTP) |
| **ë¡œë“œë°¸ëŸ°ì‹±** | ëœë¤/ë¼ìš´ë“œë¡œë¹ˆ | ë‹¤ì–‘í•œ ì•Œê³ ë¦¬ì¦˜ |
| **URL ë¼ìš°íŒ…** | âŒ | âœ… |
| **í—¤ë” ë¼ìš°íŒ…** | âŒ | âœ… |
| **íŠ¸ë˜í”½ ë¶„ë°°** | ì œí•œì  | ì„¸ë°€í•œ ë¹„ìœ¨ ì¡°ì ˆ |
| **ì¬ì‹œë„/íƒ€ì„ì•„ì›ƒ** | âŒ | âœ… (ì¡°ê±´ë³„ ì„¤ì •) |
| **ì„œí‚·ë¸Œë ˆì´ì»¤** | âŒ | âœ… |
| **mTLS** | âŒ | âœ… ìë™ |
| **íŠ¸ë ˆì´ì‹±** | âŒ | âœ… ìë™ |
| **JWT ê²€ì¦** | âŒ | âœ… |
| **ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰** | ì ìŒ | ì¶”ê°€ Sidecar í•„ìš” |

---

## ğŸ¤· ë‘˜ ë‹¤ í•„ìš”í•œê°€?

**ì˜ˆ, ë‘˜ ë‹¤ í•„ìš”í•©ë‹ˆë‹¤.**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   kube-proxy + Istio ê³µì¡´                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚   Kubernetes Service (kube-proxy)                                   â”‚
â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                   â”‚
â”‚   â€¢ ClusterIP, NodePort, LoadBalancer ì œê³µ                          â”‚
â”‚   â€¢ DNS ì´ë¦„ â†’ ClusterIP ë§¤í•‘ (CoreDNS)                             â”‚
â”‚   â€¢ ê¸°ë³¸ì ì¸ ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬                                       â”‚
â”‚                                                                     â”‚
â”‚   Istio (Envoy)                                                     â”‚
â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•                                                     â”‚
â”‚   â€¢ ìœ„ì˜ Kubernetes Serviceë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘                         â”‚
â”‚   â€¢ L7 ê¸°ëŠ¥ ì¶”ê°€ (ë¼ìš°íŒ…, ì¬ì‹œë„, ì„œí‚·ë¸Œë ˆì´ì»¤)                      â”‚
â”‚   â€¢ ë³´ì•ˆ ì¶”ê°€ (mTLS, ì¸ì¦/ì¸ê°€)                                     â”‚
â”‚   â€¢ ê´€ì¸¡ì„± ì¶”ê°€ (ë©”íŠ¸ë¦­, íŠ¸ë ˆì´ì‹±)                                   â”‚
â”‚                                                                     â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚                                                                     â”‚
â”‚   ê²°ë¡ : IstioëŠ” kube-proxyë¥¼ ëŒ€ì²´í•˜ëŠ” ê²Œ ì•„ë‹ˆë¼ ê·¸ ìœ„ì— ì˜¬ë¼ê°      â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì‹¤ì œ íŠ¸ë˜í”½ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ì‹¤ì œ íŠ¸ë˜í”½ íë¦„                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚   1. App A: curl my-service:8080                                    â”‚
â”‚      â†“                                                              â”‚
â”‚   2. CoreDNS: my-service â†’ 10.96.0.100 (ClusterIP)                  â”‚
â”‚      â†“                                                              â”‚
â”‚   3. iptables (istio-init): 15001ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸                      â”‚
â”‚      â†“                                                              â”‚
â”‚   4. Envoy A: VirtualService ê·œì¹™ ì ìš©                              â”‚
â”‚      â†“                                                              â”‚
â”‚   5. Envoy A: ì‹¤ì œ Pod IPë¡œ ìš”ì²­ (mTLS)                             â”‚
â”‚      â†“                                                              â”‚
â”‚   6. Envoy B: ìˆ˜ì‹ , ì¸ê°€ ì²´í¬                                       â”‚
â”‚      â†“                                                              â”‚
â”‚   7. App B: ìš”ì²­ ì²˜ë¦¬                                               â”‚
â”‚                                                                     â”‚
â”‚   kube-proxyëŠ” ì–¸ì œ ì“°ì´ë‚˜?                                         â”‚
â”‚   â†’ Istio ì—†ëŠ” Podì™€ í†µì‹ í•  ë•Œ                                      â”‚
â”‚   â†’ Headless Service ì‚¬ìš©í•  ë•Œ                                      â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¡ ìì£¼ í•˜ëŠ” ì˜¤í•´

### ì˜¤í•´ 1: "Istio ì“°ë©´ Service ì•ˆ ë§Œë“¤ì–´ë„ ë¼"

**í‹€ë ¸ìŠµë‹ˆë‹¤.** IstioëŠ” Kubernetes Serviceë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì°¾ìŠµë‹ˆë‹¤.

```yaml
# ì´ê±´ ì—¬ì „íˆ í•„ìš”!
apiVersion: v1
kind: Service
metadata:
  name: my-service
spec:
  selector:
    app: my-app
  ports:
  - port: 8080
```

### ì˜¤í•´ 2: "VirtualServiceê°€ Serviceë¥¼ ëŒ€ì²´í•´"

**í‹€ë ¸ìŠµë‹ˆë‹¤.** VirtualServiceëŠ” ë¼ìš°íŒ… **ê·œì¹™**ì´ì§€, ì„œë¹„ìŠ¤ **ë“±ë¡**ì´ ì•„ë‹™ë‹ˆë‹¤.

```
Kubernetes Service: "ì´ Podë“¤ì´ my-serviceì•¼"
VirtualService: "my-serviceë¡œ ì˜¤ëŠ” ìš”ì²­ì€ ì´ ê·œì¹™ëŒ€ë¡œ ì²˜ë¦¬í•´"
```

### ì˜¤í•´ 3: "Istio ì“°ë©´ kube-proxy ì‚­ì œí•´ë„ ë¼"

**ìœ„í—˜í•©ë‹ˆë‹¤.** ì‹œìŠ¤í…œ ì»´í¬ë„ŒíŠ¸(CoreDNS, metrics-server ë“±)ê°€ ì—¬ì „íˆ kube-proxyì— ì˜ì¡´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ğŸ“š ë°°ìš´ ì 

### kube-proxy
- L4 ë ˆë²¨ ë¡œë“œë°¸ëŸ°ì‹±
- iptables/IPVS ê¸°ë°˜
- ë‹¨ìˆœí•˜ê³  ê°€ë³ì§€ë§Œ ê¸°ëŠ¥ ì œí•œ

### Istio (Envoy)
- L7 ë ˆë²¨ íŠ¸ë˜í”½ ì œì–´
- HTTP ë‚´ìš©(URL, í—¤ë”, ë©”ì„œë“œ) ê¸°ë°˜ ë¼ìš°íŒ…
- mTLS, ì¸ì¦/ì¸ê°€, íŠ¸ë ˆì´ì‹± ë“± í’ë¶€í•œ ê¸°ëŠ¥

### ë‘˜ì˜ ê´€ê³„
- IstioëŠ” kube-proxyë¥¼ ëŒ€ì²´í•˜ì§€ ì•ŠìŒ
- Kubernetes Service ìœ„ì—ì„œ L7 ê¸°ëŠ¥ ì¶”ê°€
- ê³µì¡´í•˜ë©° ê°ì ì—­í•  ìˆ˜í–‰

---

## ğŸ”— ë‹¤ìŒ ì‹œë¦¬ì¦ˆ ì˜ˆê³ 

istio-intro ì‹œë¦¬ì¦ˆëŠ” ì—¬ê¸°ì„œ ë§ˆë¬´ë¦¬í•©ë‹ˆë‹¤.

ë‹¤ìŒ **istio-security** ì‹œë¦¬ì¦ˆì—ì„œëŠ” Zero Trust ë³´ì•ˆì„ ë‹¤ë£¹ë‹ˆë‹¤:
- mTLS ìƒì„¸ ë™ì‘
- SPIFFE ì„œë¹„ìŠ¤ ì‹ ì›
- AuthorizationPolicy ì™„ì „ ì •ë³µ
- JWT ì¸ì¦ êµ¬í˜„

---

## ğŸ“– ì°¸ê³  ìë£Œ

- [Kubernetes Service ê³µì‹ ë¬¸ì„œ](https://kubernetes.io/docs/concepts/services-networking/service/)
- [kube-proxy ëª¨ë“œ](https://kubernetes.io/docs/reference/networking/virtual-ips/)
- [Istio Traffic Management](https://istio.io/latest/docs/concepts/traffic-management/)
