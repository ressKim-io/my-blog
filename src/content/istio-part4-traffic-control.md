---
title: Service Mesh ì™„ë²½ ì´í•´ Part 4 - íŠ¸ë˜í”½ ì œì–´ì˜ ë§ˆë²•
excerpt: >-
  ì½”ë“œ ìˆ˜ì • ì—†ì´ ì¹´ë‚˜ë¦¬ ë°°í¬, A/B í…ŒìŠ¤íŒ…, Circuit Breaker êµ¬í˜„í•˜ê¸°. VirtualServiceì™€
  DestinationRuleë¡œ íŠ¸ë˜í”½ì„ ììœ ìì¬ë¡œ
category: kubernetes
tags:
  - istio
  - virtualservice
  - destinationrule
  - canary-deployment
  - ab-testing
  - circuit-breaker
  - kubernetes
date: '2025-10-23'
series:
  name: istio
  order: 4
---

## ğŸ¯ ì´ì „ ê¸€ ìš”ì•½

**Part 1**: Istio ê°œë…, Kong ì—†ì´ë„ ê°€ëŠ¥

**Part 2**: Control Plane/Data Plane, mTLS ìë™í™”

**Part 3**: Gatewayì—ì„œ JWT ê²€ì¦ (3-5ì¼ â†’ 5ë¶„)

Part 4ì—ì„œëŠ” **ì½”ë“œ ìˆ˜ì • ì—†ì´ íŠ¸ë˜í”½ì„ ì œì–´**í•˜ëŠ” Istioì˜ ì§„ì§œ ê°•ë ¥í•œ ê¸°ëŠ¥ì„ ë³´ê² ìŠµë‹ˆë‹¤.

---

## ğŸ’¡ í•™ìŠµ ë™ê¸°

Part 3ê¹Œì§€ëŠ” "ì¸ì¦/ë³´ì•ˆ"ì— ì§‘ì¤‘í–ˆë‹¤ë©´, Istioì˜ ë˜ ë‹¤ë¥¸ í•µì‹¬ ê°€ì¹˜ëŠ” **íŠ¸ë˜í”½ ì œì–´**ì…ë‹ˆë‹¤.

**ê¶ê¸ˆí–ˆë˜ ê²ƒ:**
- ì‹ ë²„ì „ ë°°í¬ ì‹œ ì¼ë¶€ íŠ¸ë˜í”½ë§Œ ë³´ë‚´ëŠ” ì¹´ë‚˜ë¦¬ ë°°í¬ë¥¼ ì–´ë–»ê²Œ?
- íŠ¹ì • ì‚¬ìš©ì ê·¸ë£¹ë§Œ ì‹ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸í•˜ëŠ” A/B í…ŒìŠ¤íŒ…ì€?
- ì„œë¹„ìŠ¤ê°€ ì¥ì• ë‚˜ë©´ í˜¸ì¶œ ì¤‘ë‹¨í•˜ëŠ” Circuit BreakerëŠ”?

k3dë¡œ ì§ì ‘ í…ŒìŠ¤íŠ¸í•˜ë©´ì„œ "ì•„, ì´ë˜ì„œ Istioë¥¼ ì“°ëŠ”êµ¬ë‚˜" ì‹¤ê°í–ˆìŠµë‹ˆë‹¤.

---

## ğŸ­ í•µì‹¬ ë¦¬ì†ŒìŠ¤ 2ê°€ì§€

Istioì˜ íŠ¸ë˜í”½ ì œì–´ëŠ” ë‘ ê°œì˜ ë¦¬ì†ŒìŠ¤ë¡œ ì´ë£¨ì–´ ì§‘ë‹ˆë‹¤.

```
VirtualService: "ì–´ë””ë¡œ ë³´ë‚¼ê¹Œ?" (ë¼ìš°íŒ…)
DestinationRule: "ì–´ë–»ê²Œ ë³´ë‚¼ê¹Œ?" (ë™ì‘)
```

### VirtualService - êµí†µ ê²½ì°°

```
ì—­í• : íŠ¸ë˜í”½ ë¼ìš°íŒ… ê²°ì •

ì˜ˆì‹œ:
- Headerê°€ "version: v2"ë©´ â†’ v2ë¡œ
- 90% â†’ v1, 10% â†’ v2 (ì¹´ë‚˜ë¦¬)
- ê²½ë¡œê°€ /api/adminì´ë©´ â†’ admin ì„œë¹„ìŠ¤ë¡œ
```

êµí†µ ê²½ì°°ì´ "ì´ ì°¨ëŠ” ì™¼ìª½, ì € ì°¨ëŠ” ì˜¤ë¥¸ìª½"í•˜ëŠ” ê²ƒê³¼ ë¹„ìŠ·í•©ë‹ˆë‹¤.

### DestinationRule - ì£¼í–‰ ê·œì¹™

```
ì—­í• : ì„œë¹„ìŠ¤ ë™ì‘ ë°©ì‹ ì •ì˜

ì˜ˆì‹œ:
- Load Balancing: ROUND_ROBIN, LEAST_CONN
- Circuit Breaker: 5ë²ˆ ì‹¤íŒ¨í•˜ë©´ ì°¨ë‹¨
- Connection Pool: ìµœëŒ€ ì—°ê²° ìˆ˜ 100ê°œ
```

ëª©ì ì§€ì— ë„ì°©í•˜ëŠ” "ë°©ë²•"ì„ ì •ì˜ í•©ë‹ˆë‹¤.

---

## ğŸš€ ì¹´ë‚˜ë¦¬ ë°°í¬ (Canary Deployment)

ê°€ì¥ ì‹¤ìš©ì ì¸ ê¸°ëŠ¥ì´ë‹¤. ì‹ ë²„ì „ì„ ì¡°ì‹¬ìŠ¤ëŸ½ê²Œ ë°°í¬í•˜ëŠ” ë°©ë²•.

### ì‹œë‚˜ë¦¬ì˜¤

```
Order Service v1 (ì•ˆì • ë²„ì „)
Order Service v2 (ìƒˆ ê¸°ëŠ¥ ì¶”ê°€)

ëª©í‘œ: v2ë¥¼ 10%ë§Œ í…ŒìŠ¤íŠ¸ â†’ ë¬¸ì œì—†ìœ¼ë©´ 100%ë¡œ

                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚  VirtualService â”‚
                 â”‚  (íŠ¸ë˜í”½ ë¶„í• )   â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                       â”‚
           90% â”‚                   10% â”‚
              â†“                       â†“
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ Order v1 Pod â”‚        â”‚ Order v2 Pod â”‚
      â”‚ (3 replicas) â”‚        â”‚ (1 replica)  â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       ì•ˆì • ë²„ì „                 ì‹ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
```

### 1. Podì— ë²„ì „ ë¼ë²¨ ì¶”ê°€

```yaml
# Pod ë¼ë²¨ë§Œ ì¶”ê°€
labels:
  app: order
  version: v1  # ë˜ëŠ” v2
```

**ì¤‘ìš”:** ê°™ì€ `app` ë¼ë²¨, ë‹¤ë¥¸ `version`.

### 2. DestinationRuleë¡œ ì„œë¸Œì…‹ ì •ì˜

```yaml
# í•µì‹¬ë§Œ
subsets:
- name: v1
  labels:
    version: v1
- name: v2
  labels:
    version: v2
```

**ì„œë¸Œì…‹(Subset)**: "v1 Podë“¤", "v2 Podë“¤"ì²˜ëŸ¼ ê·¸ë£¹ì„ ë‚˜ëˆˆë‹¤.

### 3. VirtualServiceë¡œ íŠ¸ë˜í”½ ë¶„í• 

```yaml
# í•µì‹¬ë§Œ
route:
- destination:
    subset: v1
  weight: 90  # â† 90%
- destination:
    subset: v2
  weight: 10  # â† 10%
```

**ì´ê²Œ ëì´ë‹¤.** ì½”ë“œ ìˆ˜ì • ì—†ì´ íŠ¸ë˜í”½ ë¶„í• .

### 4. ì ì§„ì  ì¦ê°€

```yaml
# Week 1: 10% í…ŒìŠ¤íŠ¸
weight: v1=90, v2=10

# Week 2: ë¬¸ì œì—†ìœ¼ë©´ 30%
weight: v1=70, v2=30

# Week 3: 50%
weight: v1=50, v2=50

# Week 4: 100% ì „í™˜
weight: v1=0, v2=100
```

**YAML ìˆ˜ì •ë§Œìœ¼ë¡œ ì¡°ì ˆ ê°€ëŠ¥.**

### í…ŒìŠ¤íŠ¸ í™•ì¸

```bash
# 100ë²ˆ ìš”ì²­í•´ë³´ê¸°
for i in {1..100}; do
  curl http://order-service/api/orders | grep version
done

# ê²°ê³¼:
# v1: 90ê°œ
# v2: 10ê°œ
```

í…ŒìŠ¤íŠ¸í•´ë³´ë‹ˆ ì •í™•íˆ 90:10 ë¹„ìœ¨ë¡œ ë¶„ì‚°ëë‹¤.

---

## ğŸ¯ A/B í…ŒìŠ¤íŒ…

ì‚¬ìš©ì ê·¸ë£¹ë³„ë¡œ ë‹¤ë¥¸ ë²„ì „ì„ ë³´ì—¬ì£¼ëŠ” ë°©ë²•.

### ì‹œë‚˜ë¦¬ì˜¤

```
Beta ì‚¬ìš©ì â†’ v2 (ìƒˆ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜)
ì¼ë°˜ ì‚¬ìš©ì â†’ v1 (ê¸°ì¡´ ë²„ì „)

ëª©í‘œ: ë³€í™˜ìœ¨ ë¹„êµ
```

### Header ê¸°ë°˜ ë¼ìš°íŒ…

```yaml
# í•µì‹¬ë§Œ
- match:
  - headers:
      user-group:
        exact: beta
  route:
  - destination:
      subset: v2  # Beta ìœ ì € â†’ v2

- route:  # ê¸°ë³¸
  - destination:
      subset: v1  # ì¼ë°˜ ìœ ì € â†’ v1
```

**ë™ì‘:**
```
Header: user-group=beta â†’ v2
Header ì—†ìŒ â†’ v1

        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ VirtualService   â”‚
        â”‚  (Header í™•ì¸)   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                 â”‚
  user-group=beta    user-group ì—†ìŒ
        â”‚                 â”‚
        â†“                 â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Service  â”‚      â”‚ Service  â”‚
  â”‚   v2     â”‚      â”‚   v1     â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  Beta ì‚¬ìš©ì        ì¼ë°˜ ì‚¬ìš©ì
  (ì‹ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸)     (ì•ˆì • ë²„ì „)
```

ë‹¤ì–‘í•œ ì¡°ê±´ìœ¼ë¡œ ë¼ìš°íŒ… ê°€ëŠ¥:
- ì§€ì—­ë³„ (region: asia, europe)
- ì‚¬ìš©ì íƒ€ì… (user-type: premium, free)
- ê²½ë¡œë³„ (/api/v1, /api/v2)
- ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° (?debug=true)

---

## ğŸ›¡ï¸ Circuit Breaker

ì„œë¹„ìŠ¤ê°€ ì¥ì• ë‚˜ë©´ í˜¸ì¶œì„ ì¤‘ë‹¨í•´ì„œ ì¥ì•  ì „íŒŒë¥¼ ë§‰ëŠ”ë‹¤.

### ë¬¸ì œ ìƒí™©

```
Circuit Breaker ì—†ì´ ì¥ì•  ì „íŒŒ:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User   â”‚ â”€â”€â”€â†’ â”‚  Order   â”‚ â”€â”€â”€â†’ â”‚ Payment  â”‚
â”‚ Service  â”‚      â”‚ Service  â”‚      â”‚ Service  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â†“                  X (ì¥ì• !)
                    ëŠë ¤ì§            íƒ€ì„ì•„ì›ƒ
    â†“
ëŠë ¤ì§
    â†“
ì „ì²´ ì‹œìŠ¤í…œ ë§ˆë¹„ ğŸ˜±
```

**ì¥ì• ê°€ ì „íŒŒ ë˜ëŠ” ìƒí™©.**

```
Circuit Breakerë¡œ ì¥ì•  ì°¨ë‹¨:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User   â”‚ â”€â”€â”€â†’ â”‚  Order   â”‚      â”‚  Payment Service   â”‚
â”‚ Service  â”‚      â”‚ Service  â”‚      â”‚                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ â”Œâ”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”     â”‚
     â†‘                  â”‚            â”‚ â”‚ v1 â”‚  â”‚ v2 â”‚     â”‚
  ì •ìƒ ì‘ë‹µ              â”‚            â”‚ â”‚ âœ… â”‚  â”‚ âŒ â”‚     â”‚
                        â”‚            â”‚ â””â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”˜     â”‚
                        â”‚            â”‚  ì •ìƒ    5íšŒ ì‹¤íŒ¨   â”‚
                        â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚                     â†‘
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
                                       â”‚  ì°¨ë‹¨ (30ì´ˆ)
                                       â†“      â”‚
                                    ì •ìƒ Podë§Œ ì‚¬ìš©
```

### DestinationRuleë¡œ Circuit Breaker

```yaml
# í•µì‹¬ë§Œ
outlierDetection:
  consecutiveGatewayErrors: 5  # 5ë²ˆ ì—°ì† ì‹¤íŒ¨í•˜ë©´
  baseEjectionTime: 30s        # 30ì´ˆê°„ ì°¨ë‹¨
  maxEjectionPercent: 50       # ìµœëŒ€ 50%ë§Œ ì°¨ë‹¨
```

**ë™ì‘:**
```
1. Payment Service Pod í•˜ë‚˜ê°€ 5ë²ˆ ì—°ì† ì‹¤íŒ¨
2. Istioê°€ í•´ë‹¹ Podì„ 30ì´ˆê°„ ì œì™¸
3. ë‹¤ë¥¸ ì •ìƒ Podìœ¼ë¡œë§Œ íŠ¸ë˜í”½ ì „ì†¡
4. 30ì´ˆ í›„ ë‹¤ì‹œ ì‹œë„
```

### í…ŒìŠ¤íŠ¸

ì‹¤ì œë¡œ Payment Serviceë¥¼ ì¼ë¶€ëŸ¬ ì£½ì—¬ë³´ì.

```bash
# Payment Pod í•˜ë‚˜ ì£½ì´ê¸°
kubectl delete pod payment-v1-abc123

# Order Serviceì—ì„œ í˜¸ì¶œ
curl http://order-service/api/orders

# ê²°ê³¼:
# ì²˜ìŒ 5ë²ˆ: ëŠë¦¬ê²Œ ì‘ë‹µ (ì‹¤íŒ¨í•˜ëŠ” Podìœ¼ë¡œ ê°€ì„œ)
# 6ë²ˆì§¸ë¶€í„°: ë¹ ë¥´ê²Œ ì‘ë‹µ (ì°¨ë‹¨ë˜ì–´ì„œ ì •ìƒ Podë§Œ)
```

ìë™ìœ¼ë¡œ ì°¨ë‹¨ë˜ëŠ”ê²ƒì„ í™•ì¸ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

---

## â±ï¸ Retry & Timeout

ë„¤íŠ¸ì›Œí¬ëŠ” ë¶ˆì•ˆì •í•©ë‹ˆë‹¤. ì¬ì‹œë„ì™€ íƒ€ì„ì•„ì›ƒì€ í•„ìˆ˜ë¡œ êµ¬ì„±í•´ì•¼ ë©ë‹ˆë‹¤.

### Retry ì •ì±…

```yaml
# í•µì‹¬ë§Œ
retries:
  attempts: 3  # 3ë²ˆ ì¬ì‹œë„
  perTryTimeout: 2s
  retryOn: gateway-error,connect-failure
```

**ë™ì‘:** ì‹¤íŒ¨ â†’ ì¬ì‹œë„ â†’ ì¬ì‹œë„ â†’ ì„±ê³µ

### Timeout ì„¤ì •

```yaml
timeout: 5s  # 5ì´ˆ ì•ˆì— ì‘ë‹µ ì—†ìœ¼ë©´ ì‹¤íŒ¨
```

**Before (ì½”ë“œ):** ëª¨ë“  ì„œë¹„ìŠ¤ì— timeout/retry ë¡œì§
**After (Istio):** YAMLë¡œ ì¤‘ì•™ ê´€ë¦¬, ì–¸ì–´ ë¬´ê´€

---

## ğŸ¨ ê³ ê¸‰ ë¼ìš°íŒ… íŒ¨í„´

ë‹¤ì–‘í•œ ì¡°ê±´ìœ¼ë¡œ ë¼ìš°íŒ… ê°€ëŠ¥:

**ê²½ë¡œ ê¸°ë°˜:**
```yaml
- match:
  - uri:
      prefix: /api/v1/
  route:
  - destination:
      host: api-v1-service
```

**ê¸°íƒ€ ê°€ëŠ¥í•œ ì¡°ê±´:**
- ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° (?debug=true)
- Header + ê²½ë¡œ ì¡°í•©
- ì •ê·œì‹ ë§¤ì¹­

---

## ğŸ’­ ë°°ìš°ë©´ì„œ ì´í•´í•œ í•µì‹¬

### 1. ì½”ë“œ ìˆ˜ì •ì´ í•„ìš” ì—†ë‹¤

```
ì¹´ë‚˜ë¦¬ ë°°í¬ êµ¬í˜„:

Before (ì½”ë“œ):
- Feature Flag ì‹œìŠ¤í…œ êµ¬ì¶•
- ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±
- ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ
- ë¡¤ë°± ìë™í™”

After (Istio):
- YAML weight ì¡°ì •
- ë
```

**ì„¤ì •ë§Œìœ¼ë¡œ í•´ê²°ë©ë‹ˆë‹¤.**

### 2. ì–¸ì–´/í”„ë ˆì„ì›Œí¬ ë¬´ê´€

```
Python ì„œë¹„ìŠ¤
Node.js ì„œë¹„ìŠ¤
Go ì„œë¹„ìŠ¤
Java ì„œë¹„ìŠ¤

ëª¨ë‘ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ì œì–´ë¨
```

ì–´ë–¤ ì–¸ì–´ë¡œ ì‘ì„±ëë“  Istioê°€ íŠ¸ë˜í”½ì„ ì œì–´ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 3. ì‹¤ì‹œê°„ ë³€ê²½ ê°€ëŠ¥

```bash
# 10% â†’ 50%ë¡œ ë³€ê²½
kubectl edit virtualservice order-routing

# ì¦‰ì‹œ ì ìš© (ì¬ë°°í¬ ì—†ìŒ)
```

ìˆ˜ì • í›„ 2-3ì´ˆ ë‚´ì— ë°˜ì˜ë©ë‹ˆë‹¤.

### 4. Circuit Breakerê°€ ìƒëª…ì¤„

```
Before:
Payment ì¥ì•  â†’ Order ëŠë ¤ì§ â†’ User ëŠë ¤ì§ â†’ ì „ì²´ ë§ˆë¹„

After:
Payment ì¥ì•  â†’ Circuit ì°¨ë‹¨ â†’ Order/User ì •ìƒ
```

ì¥ì•  ì „íŒŒë¥¼ ë§‰ëŠ” ê²Œ í•µì‹¬.

---

## ğŸ“ ì‹¤ì „ íŒ

### 1. ì¹´ë‚˜ë¦¬ ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸

```
âœ… ë©”íŠ¸ë¦­ í™•ì¸ (ì—ëŸ¬ìœ¨, ì‘ë‹µì‹œê°„)
âœ… ë¡œê·¸ ëª¨ë‹ˆí„°ë§
âœ… 10% â†’ 30% â†’ 50% ë‹¨ê³„ì  ì¦ê°€
âœ… ê° ë‹¨ê³„ë§ˆë‹¤ 2-3ì¼ ê´€ì°°
âœ… ë¬¸ì œ ë°œê²¬ ì‹œ ì¦‰ì‹œ ë¡¤ë°± (weight=0)
```

### 2. Circuit Breaker ì„¤ì •ê°’

```yaml
# ë³´ìˆ˜ì  (ì•ˆì •ì„± ìš°ì„ )
consecutiveGatewayErrors: 3  # ì ê²Œ
baseEjectionTime: 60s        # ê¸¸ê²Œ

# ê³µê²©ì  (ì„±ëŠ¥ ìš°ì„ )
consecutiveGatewayErrors: 10  # ë§ê²Œ
baseEjectionTime: 10s         # ì§§ê²Œ
```

ìƒí™©ì— ë§ê²Œ ì¡°ì ˆ.

### 3. ë””ë²„ê¹…

```bash
# VirtualService í™•ì¸
kubectl get virtualservice order-routing -o yaml

# ì‹¤ì œ ë¼ìš°íŒ… í™•ì¸
kubectl exec -it order-pod -c istio-proxy -- \
  curl localhost:15000/config_dump | grep order-service

# ë©”íŠ¸ë¦­ í™•ì¸
kubectl exec -it order-pod -c istio-proxy -- \
  curl localhost:15000/stats | grep retry
```

---

## ğŸ”— ë‹¤ìŒ í¸ ì˜ˆê³ 

Part 4ì—ì„œëŠ” íŠ¸ë˜í”½ ì œì–´ë¥¼ ë°°ì› ìŠµë‹ˆë‹¤.

**Part 5ì—ì„œëŠ”:**

- Istio ë„ì… ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸

- ë‹¨ê³„ì  ë„ì… ì „ëµ (ê¶Œì¥ íŒ¨í„´)

- í”í•œ ë¬¸ì œì™€ í•´ê²°ë²• (í•™ìŠµ ì¤‘ ê²ªì€ ê²ƒ)

- íŠ¸ëŸ¬ë¸”ìŠˆíŒ… (ë¡œì»¬ í™˜ê²½ ê¸°ì¤€)

- ìš´ì˜ íŒ

ì‹¤ë¬´ì—ì„œ Istioë¥¼ ë„ì…í•  ë•Œ ì°¸ê³ í•  ìˆ˜ ìˆëŠ” ê°€ì´ë“œë¥¼ ë§Œë“¤ì–´ ì •ë¦¬í•´ë³´ê² ìŠµë‹ˆë‹¤.

---

## ğŸ“š ì°¸ê³  ìë£Œ

- [Istio VirtualService ê³µì‹ ë¬¸ì„œ](https://istio.io/latest/docs/reference/config/networking/virtual-service/)
- [Istio DestinationRule ê³µì‹ ë¬¸ì„œ](https://istio.io/latest/docs/reference/config/networking/destination-rule/)
- [Circuit Breaker Pattern - Martin Fowler](https://martinfowler.com/bliki/CircuitBreaker.html)

---

**ì‘ì„±ì¼**: 2025-10-23
**í•™ìŠµ í™˜ê²½**: k3d ë¡œì»¬ í´ëŸ¬ìŠ¤í„°
**ì´ì „ ê¸€**: Part 3 - Gatewayì™€ JWT ì¸ì¦ ì‹¤ì „
**ë‹¤ìŒ ê¸€**: Part 5 - ì‹¤ë¬´ ë„ì… ì „ëµ
